<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conta</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        abbr {
            color: #AB6517;

        }

        body {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #AB6517;
        }

        #container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            max-width: 800px;
            width: 80%;
            max-height: 90vh;
            background: #dddddd;
            box-shadow: #00000036 5px 5px 10px;
        }
        #container > section {
            background-color: #ffeeda;
            margin-bottom: 1em;
            padding: 1em 0;
        }
        img {
            display: block;
            flex: 30%;
            width: 5em;
            height: 5em;
            margin: auto;
            border-radius: 50px;
        }
        form {
            flex: 70%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            overflow-y: auto;
        }
        .data-box {
            flex: 70%;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
            padding: 1em 2em;
        }
        .input-box {
            display: flex;
            flex-direction: column;
            transform: scale(0.9);
        }

        .button-box {
            display: flex;
            justify-content: space-between;
            width: 100%;
            padding: 1em 3em;
        }
        .button-box button {
            background-color: #c37a0c;
            margin: 1em 0.5em;
            padding: 4px 12px;
            border: none;
            border-radius: 5px;
        }


        @media screen and (max-width: 550px) {

            .data-box {
                justify-content: space-around;
                gap: 5px;
                padding: 2em 0em;
            }
            .input-box {
                transform: scale(0.7);
            }
        }
    </style>
</head>

<body>
    <div id="container">
        <section>  
            <img src="https://media.licdn.com/dms/image/C5603AQFY4hvNCGkltg/profile-displayphoto-shrink_400_400/0/1629093471093?e=2147483647&v=beta&t=Gwd1iXD7RafRbcI4jP12pBzdWEaLXbnKI6FLjXlmvKc" alt="">
        </section>
        <form>
            <section class="data-box">
                <div class="input-box">
                    <h3>Nome:</h3>
                    <p id="nome"></p>
                </div>
                <div class="input-box">
                    <h3>Nome de confiança:</h3>
                    <p id="nomeTrust"></p>
                </div>
                <div class="input-box">
                    <h3>Email</h3>
                    <p id="email"></p>
                </div>
                <div class="input-box">
                    <h3>Email de confiança:</h3>
                    <p id="emailTrust"></p>
                </div>
                <div class="input-box">
                    <h3>Celular:</h3>
                    <p id="cell"></p>
                </div>
                <div class="input-box">
                    <h3>Celular de confiança:</h3>
                    <p id="cellTrust"></p>
                </div>
                <div class="input-box">
                    <h3>CPF:</h3>
                    <p id="cpf"></p>
                </div>
                <div class="input-box">
                    <h3>Convênio:</h3>
                    <p id="convenio"></p>
                </div>
                <div class="input-box">
                    <h3>CEP:</h3>
                    <p id="cep"></p>
                </div>
                <div class="input-box">
                    <h3>Endereço</h3>
                    <p id="endereco"></p>
                </div>
                <div class="input-box">
                    <h3>Número da residência:</h3>
                    <p id="numero"></p>
                </div>
                <div class="input-box">
                    <h3>Complemento:</h3>
                    <p id="complemento"></p>
                </div>
                <div class="input-box">
                    <h3>Data de nascimento</h3>
                    <p id="nasac"></p>
                </div>
            </section>
            <section class="button-box">
                <button id="editar">editar</button>
                <aside>
                    <button id="sair" type="button">Sair</button>
                    <button id="excluir" type="button">excluir</button>
                </aside>
            </section>
            <script>
                const dados = sessionStorage.getItem('dadosUser')
                if (dados == null) {
                    window.location.assign('https://spai.onrender.com/public/login/login.html')
                }
                const id = dados.id


                const editar = document.querySelector("#editar")
                const sair = document.querySelector("#sair")
                const excluir = document.querySelector("#excluir")
                
                excluir.addEventListener('click', async () => {
                    const head = {
                        method: 'DELETE',
                        headers: { 'Content-Type': 'Application/json' },
                        body: { id: id }
                    }

                    try {
                        const deleting = await fetch('/apagar', head)
                        const deleted = await deleting.json()

                        console.log(deleted.message)
                    } catch (err) {
                        console.log(err)
                    }
                })

            </script>
        </form>
    </div>
</body>

</html>